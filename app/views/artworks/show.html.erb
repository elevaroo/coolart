<div class="container">
  <div class="row">


    <div class="col-8">
      <div class="artwork-title">
        <h1 class="text-center mb-4">"<%= @artwork.name.capitalize %>" by <%= @artwork.artist.user.first_name %> <%= @artwork.artist.user.last_name %></h1>
      </div>

      <div class="artwork-info-container">
        <div id="carouselExampleControls" class="mx-auto w-50 carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <% if @artwork.photos.attached? %>
            <% @artwork.photos.each_with_index do |photo, index| %>
            <div class="carousel-item <%= 'active' if index == 0  %>">
              <%= cl_image_tag photo.key, class:"artimage", crop: :fill  %>
            </div>
            <% end %>
            <% end %>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

        <div class="artdescription">
          <h3 id="arttitle">Description</h3>
          <p> <%= @artwork.description %></p>
        </div>
      </div>
    </div>


    <div class="col-4">
      <div class="artinfo-card">
        <div class="artwork-info">
          <div id="artlike">
            <% if user_signed_in? && current_user.collector? %>
            <% if like = current_user.account.favorite_artworks.find_by(artwork_id: @artwork.id) %>
            <%= link_to favorite_artwork_path(like), remote: true, method: 'delete' do %>
            <i class="far fa-heart"></i>
            <% end %>
            <% else %>
            <%= link_to favorite_artworks_path(artwork_id: @artwork.id), remote: true, method: 'post' do %>
            <i class="fas fa-heart"></i>
            <% end %>
            <% end %>
            <% end %>
          </div>

          <h3 id="arttitle"><strong> <%= @artwork.name %> </strong></h3>

          <ul>
            <li><%= @artwork.category.name.capitalize %></li>
            <li>Dimensions: W <%= @artwork.width %> x H <%= @artwork.height %></li>
            <li>Date of Creation: <%= @artwork.year %></li>
            <li id="icon-fact"><i class="fas fa-user"></i> <strong><%= @artwork.artist.user.first_name %> <%= @artwork.artist.user.last_name %></strong></li>
            <!-- need right link to location of artist (current_user) -->
            <li id="icon-fact"><i class="fas fa-thumbtack"></i> <strong><%= @artwork.artist.location %></strong></li>
          </ul>

          <div class="buybanner">
            <h2><%= @artwork.price %> â‚¬</h2>
            <!-- this is the order button which redirects to the profile page in the bought items -->
            <%= simple_form_for [@order] do |f| %>
            <%= f.input_field :artwork_id, value: @artwork.id, as: :hidden%>
            <%= f.button :submit, "BUY ME", class: 'button' %>
            <% end %>
          </div>

          <div id="artfacts">
            <div>
              <i class="far fa-eye"></i>
              <p id="artfacts-text">463 Views</p>
            </div>
            <div>
              <i class="fas fa-heart"></i>
              <p id="artfacts-text">270 Likes</p>
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</div>


<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="sr-only">Previous</span>
</a>
<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="sr-only">Next</span>
</a>
</div>


<button class="truck-button">
  <span class="default">Order</span>
  <span class="success">
    Order Placed
    <svg viewbox="0 0 12 10">
      <polyline points="1.5 6 4.5 9 10.5 1"></polyline>
    </svg>
  </span>
  <div class="truck">
    <div class="wheel"></div>
    <div class="back"></div>
    <div class="front"></div>
    <div class="box"></div>
  </div>
</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>

