<% if user_signed_in?%>
  <% if current_user.account_type == "Collector" %>
    <% @artwork_ids = current_user.account.favorite_artworks.pluck(:artwork_id) %>
  <% end %>
<% end %>
<div class="container-fluid">
  <div class="form-filter">
    <%= form_tag artworks_path,   method: :get do %>
      <div class="d-flex justify-content-center align-items-center">
        <div class="m-3">
          <div><%= label_tag(:category, "Category:") %></div>
          <div><%= select_tag(:category, options_for_select(['Painting', 'Sculpture', 'Photography', 'Print', 'Drawing', 'Mixed Media'], params[:category]), prompt: '') %></div>
        </div>
        <div class="m-3">
          <div><%= label_tag(:medium, "Medium:") %></div>
          <div><%= select_tag(:medium, options_for_select(['Oil paint', 'Watercolour', 'Pencil', 'Etching', 'Lithography', 'Bronze', 'Marble', 'Wood', 'Iron', 'Plastic', 'Acrylic paint', 'Chalk', 'Pastel'], params[:medium]), prompt: '') %></div>
        </div>
        <div class="m-3">
          <div><%= label_tag(:price_min, "Minimum price:") %></div>
          <div><%= text_field_tag(:price_min) %></div>
        </div>
        <div class="m-3">
          <div><%= label_tag(:price_max, "Maximum price:") %></div>
          <div><%= text_field_tag(:price_max) %></div>
        </div>
        <div class="m-3">
          <div><%= label_tag(:price_min, "Minimum price:") %></div>
          <div><%= text_field_tag(:tag) %></div>
        </div>
        <div class="m-3"><%= submit_tag "Find your Artwork!", class: "button" %></div>
      </div>
    <% end %>
  </div>

  <div class="row">
    <div class="col-8">
      <div class="card-container d-flex flex-wrap">
        <div class="p-2 d-flex flex-wrap align-content-start">
          <% @artworks.each do |artwork| %>
            <%= render "artworks/card", artwork: artwork %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
